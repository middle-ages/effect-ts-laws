<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <title>Book of Laws</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=1" />
    <meta name="color-scheme" content="light dark" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      media="screen"
      rel="stylesheet"
      type="text/css"
      href="catalog-of-laws/index.css" />
  </head>

  <body>
    <div>
      <header>
        <h1>Typeclass Laws</h1>
        <a href="https://github.com/middle-ages/effect-ts-laws"
          >⚖ effect-ts-laws</a
        >
      </header>
      <article>
        <div class="header">
          <d title="Typeclass “extends” relation.">Is a</d>
          <d title="Typeclass name in “effect-ts” source.">Typeclass</d>
          <d title="Law name.">Law</d>
          <d style="grid-column: 4/-1" title="Law predicate.">Predicate</d>
        </div>
        <div
          class="laws laws-3"
          style="grid-row-start: 2; margin-top: calc(var(--vpad))">
          <d></d>
          <e>Equivalence</e>

          <d>transitivity</d>
          <d>a=b ∧ b=c</d>
          <d>⇒</d>
          <d>a=c</d>

          <d>symmetry</d>
          <d>a=b</d>
          <d>⇔</d>
          <d>b=a</d>

          <d>reflexivity</d>
          <d>a</d>
          <d>=</d>
          <d>a</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-4" style="grid-row-start: 4">
          <d></d>
          <e>Order</e>

          <d>transitivity</d>
          <d>a≤b ∧ b≤c</d>
          <d>⇒</d>
          <d>a≤c</d>

          <d>reflexivity</d>
          <d>a</d>
          <d>≤</d>
          <d>a</d>

          <d>connectivity</d>
          <d>a≤b</d>
          <d>∨</d>
          <d>b≤a</d>

          <d>complement consistency</d>
          <d>a≤b</d>
          <d>⇒</d>
          <d>a≯b</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-2">
          <div>
            <div class="line middle-top down"></div>
            <arrow-head class="middle"></arrow-head>
          </div>
          <e>Semigroup</e>

          <d>associativity</d>
          <d>(a ⊹ b) ⊹ c</d>
          <d>=</d>
          <d>a ⊹ (b ⊹ c)</d>

          <d>combineMany associativity</d>
          <d>combineMany(a, [b, c])</d>
          <d>=</d>
          <d>combine(a, combine(b, c))</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-2">
          <div>
            <div class="line middle-bottom up"></div>
            <arrow-tail class="middle"></arrow-tail>
          </div>
          <e>Monoid</e>

          <d>left identity</d>
          <d>∅ ⊹ a</d>
          <d>=</d>
          <d>a</d>

          <d>right identity</d>
          <d>a</d>
          <d>=</d>
          <d>a ⊹ ∅</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-2">
          <div>
            <div class="line half-top down line-2"></div>
            <div class="line half-bottom down"></div>
            <arrow-head class="top-2"></arrow-head>
            <arrow-head class="bottom-2"></arrow-head>
          </div>
          <e>Invariant</e>

          <d>identity</d>
          <d>imap(id, id)</d>
          <d>=</d>
          <d>id</d>

          <d>composition</d>
          <d>imap(ab, ba) ▹ imap(bc, cb)</d>
          <d>=</d>
          <d>imap(ab ∘ bc, cb ∘ ba)</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-2">
          <div>
            <div class="line middle-bottom up"></div>
            <arrow-tail class="middle"></arrow-tail>
          </div>
          <e>Contravariant</e>

          <d>identity</d>
          <d>contramap(id)</d>
          <d>=</d>
          <d>id</d>

          <d>composition</d>
          <d>fa ▹ contramap(ba) ▹ contramap(cb)</d>
          <d>=</d>
          <d>fa ▹ contramap(cb ∘ ba)</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-2">
          <div>
            <arrow-tail class="top-3"></arrow-tail>
            <arrow-head class="middle"></arrow-head>
            <arrow-head class="bottom-3"></arrow-head>
            <div
              class="line third-top up line-2"
              style="
                height: calc(
                  var(--line-half) + 2 * var(--line-height) + var(--gap-height) +
                    var(--arrow-height)
                );
              "></div>
            <div class="line middle-top down line-2"></div>
            <div class="line third-bottom down"></div>
          </div>
          <e>Covariant</e>

          <d>identity</d>
          <d>map(id)</d>
          <d>=</d>
          <d>id</d>

          <d>composition</d>
          <d>map(ab ∘ bc)</d>
          <d>=</d>
          <d>map(ab) ∘ map(bc)</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-7">
          <div>
            <div
              class="line middle-bottom up"
              style="
                height: calc(
                  3 * var(--line-height) + var(--arrow-height) -
                    var(--vpad-laws) + var(--stroke)
                );
              "></div>
            <arrow-tail class="middle"></arrow-tail>
          </div>
          <e>Applicative</e>

          <d>identity</d>
          <d>id ▹ of ▹ ap(a)</d>
          <d>=</d>
          <d>a</d>

          <d>homomorphism</d>
          <d>ab ▹ of ▹ (a ▹ of ▹ ap)</d>
          <d>=</d>
          <d>a ▹ ab ▹ of</d>

          <d>associative composition</d>
          <d>fbc ▹ map(compose) ▹ ap(fab) ▹ ap(fa)</d>
          <d>=</d>
          <d>fbc ▹ ap(fab ▹ ap(fa))</d>

          <d>interchange</d>
          <d>fab ▹ ap(of(a))</d>
          <d>=</d>
          <d>a ▹ apply ▹ of ▹ ap(fab)</d>

          <d>map consistency</d>
          <d>fa ▹ map(ab)</d>
          <d>=</d>
          <d>ab ▹ of ▹ ap(fa)</d>

          <d>product consistency</d>
          <d>fab ▹ ap(fa)</d>
          <d>=</d>
          <d>product(fab, fa) ▹ map(([ab, a]) ⇒ ab(a))</d>

          <d>flatMap consistency</d>
          <d>fab ▹ ap(fa)</d>
          <d>=</d>
          <d>fab ▹ flatMap(ab ⇒ map(fa, ab))</d>
        </div>

        <div class="separator"></div>
        <div class="laws laws-4">
          <div>
            <div
              class="line middle-bottom up line-2"
              style="
                height: calc(
                  var(--relation-height) + 8 * var(--line-height) +
                    var(--gap-height) + var(--line-height-half) - var(--stroke)
                );
              "></div>
            <arrow-tail class="middle"></arrow-tail>
          </div>
          <e>Monad</e>

          <d>left identity</d>
          <d>of ∘ flatMap(f)</d>
          <d>=</d>
          <d>afb</d>

          <d>right identity</d>
          <d>flatMap(of)</d>
          <d>=</d>
          <d>id</d>

          <d>associativity</d>
          <d>flatMap(afb) ∘ flatMap(bfc)</d>
          <d>=</d>
          <d>flatMap(afb ∘ flatMap(bfc))</d>

          <d>map consistency</d>
          <d>map(ab)</d>
          <d>=</d>
          <d>flatMap(ab ∘ of)</d>
        </div>

        <div class="separator"></div>
        <div
          class="laws laws-2"
          style="padding-bottom: var(--vpad); border-bottom: var(--line-table)">
          <d></d>
          <e>Traversable</e>

          <d>identity</d>
          <d>traverse(id)</d>
          <d>=</d>
          <d>id</d>

          <d>composition</d>
          <d>F.traverse(G)(agb) ∘ G.map(F.traverse(H)(bhc))</d>
          <d>=</d>
          <d>traverse(GH)(agb ∘ mapG(bhc))</d>
        </div>
      </article>
    </div>
  </body>
</html>

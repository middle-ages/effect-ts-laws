<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <title>Book of Laws</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=1" />
    <meta name="color-scheme" content="light dark" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      media="screen"
      rel="stylesheet"
      type="text/css"
      href="catalog-of-laws/index.css" />
  </head>

  <body>
    <header class="homeLink">
      <a href="https://github.com/middle-ages/effect-ts-laws"
        >⚖ effect-ts-laws</a
      >
    </header>
    <h1>Typeclass Laws</h1>
    <article>
      <div class="table">
        <clr style="grid-row: 2/3"></clr>
        <div class="header" style="grid-row-start: 1">
          <d title="Typeclass “extends” relation.">Is a</d>
          <d title="Typeclass name in “effect-ts” source.">Typeclass</d>
          <d title="Law name.">Name</d>
          <d style="grid-column: 4/7" title="Law predicate.">Predicate</d>
        </div>

        <bg class="threeLaws" style="grid-row-start: 2"></bg>
        <div class="threeLaws" style="grid-row-start: 2">
          <d></d>
          <e><f>Equivalence</f></e>

          <d>transitivity</d>
          <d>a=b ∧ b=c</d>
          <d>⇒</d>
          <d>a=c</d>

          <d>symmetry</d>
          <d>a=b</d>
          <d>⇔</d>
          <d>b=a</d>

          <d>reflexivity</d>
          <d>a</d>
          <d>=</d>
          <d>a</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 4/5"></clr>
        <bg class="threeLaws" style="grid-row-start: 4"></bg>
        <div class="threeLaws" style="grid-row-start: 4">
          <d></d>
          <e><f>Order</f></e>

          <d>transitivity</d>
          <d>a≤b ∧ b≤c</d>
          <d>⇒</d>
          <d>a≤c</d>

          <d>reflexivity</d>
          <d>a</d>
          <d>≤</d>
          <d>a</d>

          <d>connectivity</d>
          <d>a≤b</d>
          <d>∨</d>
          <d>b≤a</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 6/7"></clr>
        <bg class="twoLaws" style="grid-row-start: 6"></bg>
        <div class="twoLaws" style="grid-row-start: 6">
          <div>
            <div class="line line-one line-top"></div>
            <img class="arrow-head" src="catalog-of-laws/arrow-head.svg" />
          </div>
          <e><f>Semigroup</f></e>

          <d>associativity</d>
          <d>(a ⊹ b) ⊹ c</d>
          <d>=</d>
          <d>a ⊹ (b ⊹ c)</d>

          <d>combineMany associativity</d>
          <d>combineMany(a, [b, c])</d>
          <d>=</d>
          <d>combine(a, combine(b, c))</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 8/9"></clr>
        <bg class="twoLaws" style="grid-row-start: 8"></bg>
        <div class="twoLaws" style="grid-row-start: 8">
          <div>
            <div class="line line-one line-bottom"></div>
            <img class="arrow-tail" src="catalog-of-laws/arrow-tail.svg" />
          </div>
          <e><f>Monoid</f></e>

          <d>left identity</d>
          <d>∅ ⊹ a</d>
          <d>=</d>
          <d>a</d>

          <d>right identity</d>
          <d>a</d>
          <d>=</d>
          <d>a ⊹ ∅</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 10/11"></clr>
        <bg class="twoLaws" style="grid-row-start: 10"></bg>
        <div class="twoLaws" style="grid-row-start: 10">
          <div>
            <div class="line line-one line-top"></div>
            <img class="arrow-head" src="catalog-of-laws/arrow-head.svg" />
          </div>
          <e><f>Invariant</f></e>

          <d>identity</d>
          <d>imap(id, id)</d>
          <d>=</d>
          <d>id</d>

          <d>composition</d>
          <d>imap(ab, ba) ▹ imap(bc, cb)</d>
          <d>=</d>
          <d>imap(ab ∘ bc, cb ∘ ba)</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 12/13"></clr>
        <bg class="twoLaws" style="grid-row-start: 12"></bg>
        <div class="twoLaws" style="grid-row-start: 12">
          <div>
            <img
              class="arrow-tail"
              style="
                top: calc(
                  -1 * var(--line-height) / 3 - var(--arrow-height-half) + var(
                      --stroke-half
                    ) + 0.5px
                );
              "
              src="catalog-of-laws/arrow-tail.svg" />
            <div
              class="line line-one line-bottom"
              style="
                top: calc(
                  -3 * var(--line-height) / 2 - var(--arrow-height-half) - var(--stroke-half)
                );
                height: calc(3 * var(--line-height) / 2);
              "></div>

            <img
              class="arrow-head"
              style="top: calc(50% - var(--arrow-height-half))"
              src="catalog-of-laws/arrow-head.svg" />
            <div
              class="line line-two line-top"
              style="height: calc(2 * var(--line-height))"></div>

            <img
              class="arrow-head"
              style="
                top: calc(
                  1 * var(--line-height) / 3 - var(--arrow-height-half)
                );
              "
              src="catalog-of-laws/arrow-head.svg" />
            <div
              class="line line-one line-top"
              style="
                top: calc(1 * var(--line-height) / 3 - var(--stroke-half));
              "></div>
          </div>
          <e><f>Covariant</f></e>

          <d>identity</d>
          <d>map(id)</d>
          <d>=</d>
          <d>id</d>

          <d>composition</d>
          <d>map(ab ∘ bc)</d>
          <d>=</d>
          <d>map(ab) ∘ map(bc)</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 14/15"></clr>
        <bg class="sevenLaws" style="grid-row-start: 14"></bg>
        <div class="sevenLaws" style="grid-row-start: 14">
          <div>
            <div
              class="line line-one line-bottom"
              style="
                top: calc(-4 * var(--line-height));
                height: calc(4 * var(--line-height) - var(--stroke-half));
              "></div>
            <img class="arrow-tail" src="catalog-of-laws/arrow-tail.svg" />
          </div>
          <e><f>Applicative</f></e>

          <d>identity</d>
          <d>id ▹ of ▹ ap(a)</d>
          <d>=</d>
          <d>a</d>

          <d>homomorphism</d>
          <d>ab ▹ of ▹ (a ▹ of ▹ ap)</d>
          <d>=</d>
          <d>a ▹ ab ▹ of</d>

          <d>associative composition</d>
          <d>fbc ▹ map(compose) ▹ ap(fab) ▹ ap(fa)</d>
          <d>=</d>
          <d>fbc ▹ ap(fab ▹ ap(fa))</d>

          <d>interchange</d>
          <d>fab ▹ ap(of(a))</d>
          <d>=</d>
          <d>a ▹ apply ▹ of ▹ ap(fab)</d>

          <d>map consistency</d>
          <d>fa ▹ map(ab)</d>
          <d>=</d>
          <d>ab ▹ of ▹ ap(fa)</d>

          <d>product consistency</d>
          <d>fab ▹ ap(fa)</d>
          <d>=</d>
          <d>product(fab, fa) ▹ map(([ab, a]) ⇒ ab(a))</d>

          <d>flatMap consistency</d>
          <d>fab ▹ ap(fa)</d>
          <d>=</d>
          <d>fab ▹ flatMap(ab ⇒ map(fa, ab))</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 16/17"></clr>
        <bg class="fourLaws" style="grid-row-start: 16"></bg>
        <div class="fourLaws" style="grid-row-start: 16">
          <div>
            <div
              class="line line-two line-bottom"
              style="
                top: calc(-10 * var(--line-height));
                height: calc(10 * var(--line-height) - var(--stroke-half));
              "></div>
            <img class="arrow-tail" src="catalog-of-laws/arrow-tail.svg" />
          </div>
          <e><f>Monad</f></e>

          <d>left identity</d>
          <d>of ∘ flatMap(f)</d>
          <d>=</d>
          <d>afb</d>

          <d>right identity</d>
          <d>flatMap(of)</d>
          <d>=</d>
          <d>id</d>

          <d>associativity</d>
          <d>flatMap(afb) ∘ flatMap(bfc)</d>
          <d>=</d>
          <d>flatMap(afb ∘ flatMap(bfc))</d>

          <d>map consistency</d>
          <d>map(ab)</d>
          <d>=</d>
          <d>flatMap(ab ∘ of)</d>
        </div>

        <div class="separator"></div>
        <clr style="grid-row: 18/19"></clr>
        <bg class="twoLaws" style="grid-row-start: 18"></bg>
        <div class="twoLaws" style="grid-row-start: 18">
          <d></d>
          <e><f>Traversable</f></e>

          <d>identity</d>
          <d>traverse(id)</d>
          <d>=</d>
          <d>id</d>

          <d>composition</d>
          <d>F.traverse(G)(agb) ∘ G.map(F.traverse(H)(bhc))</d>
          <d>=</d>
          <d>traverse(GH)(agb ∘ mapG(bhc))</d>
        </div>
        <div
          class="separator"
          style="
            height: calc(var(--line-height) / 4);
            border-bottom: var(--line-table-high);
          "></div>
      </div>
    </article>
    <div style="padding-left: 0.5rem; font-size: 6px">2024</div>
  </body>
</html>

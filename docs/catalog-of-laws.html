<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <title>Book of Laws</title>
    <meta charset="utf-8" />
    <meta name="color-scheme" content="light dark" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css"
      integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+"
      crossorigin="anonymous" />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"
      integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg"
      crossorigin="anonymous"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
      integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk"
      crossorigin="anonymous"
      onload="onLoad()"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="catalog-of-laws/index.css" />
  </head>
  <body>
    <macro>$\global\def\({\big(}$</macro>
    <macro>$\global\def\){\big)}$</macro>
    <macro>$\global\def\▹{\,\:\htmlClass{pipe}{\footnotesize{▹}}\,\,}$</macro>
    <macro>$\global\def\∘{\:\htmlClass{flow}{\scriptsize{∘}}\,}$</macro>
    <macro>$\global\def\∅{\htmlClass{empty}{\varnothing}}$</macro>
    <macro>$\global\def\fn#1{\htmlClass{fn}{#1}}$</macro>
    <macro>$\global\def\imap{\fn{imap}}$</macro>
    <macro>$\global\def\map{\fn{map}}$</macro>
    <macro>$\global\def\coproduct{\fn{coproduct}}$</macro>
    <macro>$\global\def\coproductMany{\fn{coproductMany}}$</macro>
    <macro>$\global\def\coproductAll{\fn{coproductAll}}$</macro>
    <macro>$\global\def\combineMany{\fn{combineMany}}$</macro>
    <macro>$\global\def\flatMap{\fn{flatMap}}$</macro>
    <macro>$\global\def\contramap{\fn{contramap}}$</macro>
    <macro>$\global\def\of{\fn{of}}$</macro>
    <macro>$\global\def\ap{\fn{ap}}$</macro>
    <macro>$\global\def\id{\fn{id}}$</macro>
    <macro>$\global\def\product{\fn{product}}$</macro>
    <macro>$\global\def\traverse{\fn{traverse}}$</macro>
    <macro>$\global\def\apply{\fn{apply}}$</macro>
    <macro>$\global\def\compose{\fn{compose}}$</macro>
    <macro>$\global\def\F{\mathrm{F}}$</macro>
    <macro>$\global\def\G{\mathrm{G}}$</macro>
    <macro>$\global\def\H{\mathrm{H}}$</macro>
    <macro>$\global\def\GH{\mathrm{GH}}$</macro>
    <macro>$\global\def\Id{\mathrm{Id}}$</macro>
    <diagram>
      <header>
        <h1>Typeclass Laws</h1>
        <a class="home" href="https://github.com/middle-ages/effect-ts-laws"
          >⚖ effect-ts-laws</a
        >
      </header>
      <article>
        <div class="header">
          <d title="Typeclass “extends” relation.">Is a</d>
          <d title="Typeclass name in “effect-ts” source.">Typeclass</d>
          <d title="Law name.">Law</d>
          <d style="grid-column: span 3" title="Law predicate.">Predicate</d>
        </div>
        <laws>
          <d></d>
          <e>Equivalence</e>

          <d>transitivity</d>
          <d>$a=b ∧ b=c$</d><d>$⇒$</d><d>$a=c$</d>

          <d>symmetry</d>
          <d>$a=b$</d><d>$⇔$</d><d>$b=a$</d>

          <d>reflexivity</d><d>$a$</d><d>$=$</d><d>$a$</d>
        </laws>

        <laws>
          <d></d>
          <e>Order</e>

          <d>transitivity</d>
          <d>$a≤b ∧ b≤c$</d><d>$⇒$</d><d>$a≤c$</d>

          <d>connectivity</d>
          <d>$a≤b$</d><d>$∨$</d><d>$b≤a$</d>

          <d>reflexivity</d>
          <d>$a$</d><d>$≤$</d><d>$a$</d>

          <d>complement consistency</d>
          <d>$a≤b$</d><d>$⇒$</d><d>$a \ngtr b$</d>

          <d>equivalence consistency</d>
          <d>$a≤b ∧ b≤a$</d><d>$⇒$</d><d>$a=b$</d>
        </laws>

        <laws>
          <div>
            <line-middle-down></line-middle-down>
            <arrow-head-middle></arrow-head-middle>
          </div>
          <e>Semigroup</e>

          <d>associativity</d>
          <d>$(a ⊕ b) ⊕ c$</d><d>$=$</d><d>$a ⊕ (b ⊕ c)$</d>

          <d>combineMany associativity</d>
          <d>$\combineMany(a, [b, c])$</d>
          <d>$=$</d>
          <d>$a ⊕ (b ⊕ c)$</d>
        </laws>

        <laws>
          <div>
            <line-middle-up></line-middle-up>
            <arrow-tail-middle></arrow-tail-middle>
          </div>
          <e>Monoid</e>

          <d>left identity</d>
          <d>$\∅ ⊕ a$</d><d>$=$</d><d>$a$</d>

          <d>right identity</d>
          <d>$a ⊕ \∅$</d><d>$=$</d><d>$a$</d>
        </laws>

        <laws>
          <div>
            <line-middle-down-double></line-middle-down-double>
            <line-middle-down></line-middle-down>
            <arrow-head-middle></arrow-head-middle>
          </div>
          <e>Invariant</e>

          <d>identity</d><d>$\imap(\id, \id)$</d><d>$=$</d>
          <d>$\id$</d>

          <d>composition</d>
          <d>$\imap(ab, ba) \∘ \imap(bc, cb)$</d>
          <d>$=$</d>
          <d>$\imap(bc \∘ ab, ba \∘ cb)$</d>
        </laws>

        <laws>
          <div>
            <line-middle-up></line-middle-up>
            <arrow-tail-middle></arrow-tail-middle>
          </div>
          <e>Contravariant</e>

          <d>identity</d>
          <d>$\contramap(\id)$</d><d>$=$</d><d>$\id$</d>

          <d>composition</d>
          <d>$\contramap(ba) \∘ \contramap(cb)$</d>
          <d>$=$</d>
          <d>$\contramap(ba \∘ cb)$</d>
        </laws>

        <laws>
          <div>
            <line-top-up-double></line-top-up-double>
            <line-bottom-down></line-bottom-down>
            <line-bottom-down-double></line-bottom-down-double>
            <line-bottom-down-triple></line-bottom-down-triple>
            <arrow-tail-top></arrow-tail-top>
            <arrow-head-bottom></arrow-head-bottom>
          </div>
          <e>Covariant</e>

          <d>identity</d><d>$\map(\id)$</d><d>$=$</d><d>$\id$</d>

          <d>composition</d>
          <d>$\map(ab) \∘ \map(bc)$</d>
          <d>$=$</d>
          <d>$\map(bc \∘ ab)$</d>
        </laws>

        <laws>
          <div>
            <line-middle-up
              style="
                height: calc(
                  var(--gap-line-height) + 5 * var(--line-height-half)
                );
              "></line-middle-up>
            <arrow-tail-middle></arrow-tail-middle>
          </div>
          <e>Applicative</e>

          <d>identity</d>
          <d>$\id \▹ \of \▹ \ap(a)$</d><d>$=$</d><d>$a$</d>

          <d>homomorphism</d>
          <d>$ab \▹ \of \▹ (a \▹ \of \▹ \ap)$</d>
          <d>$=$</d>
          <d>$a \▹ ab \▹ \of$</d>

          <d>associative composition</d>
          <d>$fbc \▹ \map(\compose) \▹ \ap(fab) \▹ \ap(fa)$</d>
          <d>$=$</d>
          <d>$fbc \▹ \ap\(fab \▹ \ap(fa)\)$</d>

          <d>interchange</d>
          <d>$fab \▹ \ap\(\of(a)\)$</d>
          <d>$=$</d>
          <d>$a \▹ \apply \▹ \of \▹ \ap(fab)$</d>

          <d>map consistency</d>
          <d>$fa \▹ \map(ab)$</d>
          <d>$=$</d>
          <d>$ab \▹ \of \▹ \ap(fa)$</d>

          <d>product consistency</d>
          <d>$fab \▹ \ap(fa)$</d>
          <d>$=$</d>
          <d>$\product(fab, fa) \▹ \map\(([ab, a]) ⇒ ab(a)\)$</d>

          <d>flatMap consistency</d>
          <d>$\ap(fa)$</d>
          <d>$=$</d>
          <d>$\flatMap\(ab ⇒ \!\map(fa, ab)\)$</d>
        </laws>

        <laws>
          <div>
            <line-middle-up-double
              style="
                height: calc(
                  var(--gap-line-height-2) + 6 * var(--line-height) +
                    var(--radius-1) - var(--stroke)
                );
              "></line-middle-up-double>
            <arrow-tail-middle></arrow-tail-middle>
          </div>
          <e>Monad</e>

          <d>left identity</d><d>$\of \∘ \flatMap(afb)$</d><d>$=$</d
          ><d>$afb$</d>

          <d>right identity</d><d>$\flatMap(\of)$</d><d>$=$</d><d>$\id$</d>

          <d>associativity</d>
          <d>$\flatMap(afb) \∘ \flatMap(bfc)$</d>
          <d>$=$</d>
          <d>$\flatMap\(\flatMap(bfc) \∘ afb\)$</d>

          <d>map consistency</d>
          <d>$\map(ab)$</d>
          <d>$=$</d>
          <d>$\flatMap(\of \∘ ab)$</d>
        </laws>

        <laws>
          <d>
            <arrow-tail-top></arrow-tail-top>
            <arrow-head-bottom></arrow-head-bottom>
            <line-top-up-triple
              style="
                height: calc(
                  3 * (var(--gap-line-height) + 3 * var(--line-height)) +
                    var(--arrow-height) - var(--stroke)
                );
              "></line-top-up-triple>
            <line-bottom-down></line-bottom-down>
          </d>
          <e>SemiAlternative</e>

          <d>associativity</d>
          <d>$(fa_1 ⊕ fa_2) ⊕ fa_3$</d>
          <d>$=$</d><d>$fa_1 ⊕ (fa_2 ⊕ fa_3)$</d>

          <d>coproductMany associativity</d>
          <d>$\coproductMany(fa_1, [fa_2, fa_3])$</d>
          <d>$=$</d><d>$fa_1 ⊕ (fa_2 ⊕ fa_3)$</d>
        </laws>

        <laws>
          <d>
            <line-middle-up
              style="
                height: calc(var(--gap-line-height) + var(--line-height-half));
              "></line-middle-up>
            <arrow-tail-middle></arrow-tail-middle>
          </d>
          <e>Alternative</e>

          <d>left identity</d><d>$\∅ ⊕ fa$</d> <d>$=$</d><d>$fa$</d>

          <d>right identity</d><d>$fa ⊕ \∅$</d> <d>$=$</d><d>$fa$</d>

          <d>coproductAll zero</d
          ><d>$\coproductAll\:\!\raisebox{0.5pt}{([\,])}$</d> <d>$=$</d
          ><d>$\∅$</d>
        </laws>

        <laws>
          <d></d>
          <e>Traversable</e>

          <d>identity</d><d>$\Id.\traverse(\id)$</d><d>$=$</d><d>$\id$</d>

          <d>composition</d>
          <d>$\G.\map\(\H.\traverse(bhc)\) \∘ \G.\traverse(agb)$</d>
          <d>$=$</d>
          <d>$\GH.\traverse\(\G.\map(bhc) \∘ agb\)$</d>

          <d>map consistency</d>
          <d>$\F.\map(ab)$</d>
          <d>$=$</d>
          <d>$\Id.\traverse(ab)$</d>
        </laws>
      </article>
    </diagram>
  </body>
  <script>
    function onLoad() {
      renderMathInElement(document.body, {
        delimiters: [{left: '$', right: '$', display: false}],
        throwOnError: false,
        trust: true,
      })
    }
  </script>
</html>
